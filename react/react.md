<!--
 * @Description:
 * @Date: 2024-07-28 19:23:38
 * @LastEditTime: 2024-08-01 13:04:59
-->

### 类组件和函数组件

1. 类组件需要通过 class extends 继承 React.component 的组件。而函数组件是无状态组件，以函数的形式存在的组件，不用继承 React.component。
2. 函数组件捕获了渲染时所需要的值，通过 this 指向 props 的改变，实现了数据和渲染的紧密绑定。
3. 类组件拥有生命周期，但函数组件没有生命周期，可以通过 react 官方提供的 hook 来模拟生命周期完成特定的逻辑。

### 如何通过 hook 来模拟生命周期

1. `useState`来声明变量，可以使用纯数据和回调函数两种方式。
2. `useEffect`来完成组件中的数据更新
3. `useCallback`缓存作为别的 hook 依赖的函数体，避免函数更新导致组件不必要的刷新。比如配合`useEffect`使用，`useCallback`可以在其依赖项更改时，重新返回一个新的函数引用，于是`useEffect`就会去更新相关的代码
4. `useEffect`卸载依赖，类似于组件销毁。

### React 父子组件之间的通信方式

1. 通过 Props 传值，在子组件中定义 Props 变量，可以用 Props 直接代替需要接收的变量，再进行拆解赋值。或者完整声明所有需要传递的变量名。父组件中通过**变量名={{变量值}}**来传递。同时子组件中也可以通过 Props 传递函数，实现在子组件中调用父组件中的函数，以此完成子组件对父组件的值传递。
2. 使用 context 对象和`useContext`函数实现跨级传递。

### react 中的组件懒加载

- react 提供 l`lazy`和`suspense`来实现懒加载。引用组件时使用`lazy`导入，或者将组件放入`suspense`的特殊组件里，并将组件加载时的样式组件放入 fallback 里。

### React 中的 Props

- props 是组件的输入，组件可以接收第一个参数为 Props，可以是一个对象或者单个的值。利用 Props 我们可以将自定义的数据通过父组件传递给子组件，props 也可以作为数据更新的依赖传入 hook 里。

### 如果子组件中没有 Props，父组件渲染子组件会渲染吗？

- 第一次渲染时，子组件会使用默认的数据来渲染，但父组件的重新渲染不会触发子组件的渲染。

### react 的 fiber 架构和 diff 算法

- react 之前的版本在构造虚拟 dom 树和 diff 的过程是不可中断的，如果组件层级嵌套过深，或者元素过多的时候，会导致页面渲染卡顿。为了解决这个问题，react 官方在 16 的版本之后将数据结构更换成了 fiber 链表，利用 requestIdleCallback 的 API 实现异步和可中断的更新。
- fiber 数据结构的工作机制：

1. jsx 在经过编译器编译后，会初始化一棵虚拟 dom 树。
2. 按照虚拟 Dom 的组件拆分成一个个小单元，每个单元都携带其祖先组件或者元素的信息，和它的子组件或者子元素的信息，形成一个 fiber 链表。
3. Fiber 链表就是根据虚拟 Dom 树，构建的 Fiber 树，称为**workInProgress Fiber**树，其根节点为 fiberRoot，这个树会。

### react 优化方法

### react 和 Vue 的对比

### react 的 hook 防抖节流

### react 的任务调度是怎么做
